<!DOCTYPE html>
<html>
<head>
	<title>Quiz App </title>
	<style>
    *{padding:0;margin:0;font-family:sans-serif; box-sizing:border-box;}
    body{ background:#001e4d; }
    .app-container{background-color:#fff;width:90%;max-width:600px;border-radius:10px; margin:100px auto; padding:30px}
    .app-container h1{border-bottom:2px solid #a09a9a;padding-bottom:30px; color:#001e4d; font-weight:600; }
    .quiz{ padding:20px 0; }
    .quiz h2{font-size:18px;color:#001e4d; font-weight:600;}
    .btn{background: #fff;color:#222;border:1px solid #222;padding:10px; margin:10px 0;width:100%;text-align: left;border-radius: 5px; cursor:pointer; transition:all 0.3s;}
    .btn:hover:not([disabled]){background:#222; color:#fff;}
    .btn:disabled{ cursor:no-drop; }
    #next-btn{ background:#001e4d;color:#fff;font-weight:500;max-width:150px;border:0;padding:10px;margin:20px auto 0; border-radius:4px;cursor:pointer;display:none; }
    .correct{ background:#9aeabc; }
    .incorrect{ background:#ff9393; }
	</style>	
</head>	
<body>
<div class="app-container">
<h1>Quiz</h1>
<div class="quiz">
<h2 id="questions">Question appears Here</h2>
<div id="answers">
	<button class="btn">Answer 1</button>
	<button class="btn">Answer 2</button>
	<button class="btn">Answer 3</button>
	<button class="btn">Answer 4</button>
</div>	
    <button id="next-btn">Next</button>
</div>
</div>
<script>
const question= [
      {
      	question: "PHP programming language is built by whom?",
      	answers:[
            {text:"Rasmus Lerdof",correct:true},
            {text:"Ryan Dahl",correct:false},
            {text:"Mark Zuckerberg",correct:false},
            {text:"Tim Bernes Lee",correct:false}
      		]
      },
      {
      	question: "NodeJS programming language is built by whom?",
      	answers:[
            {text:"Rasmus Lerdof",correct:false},
            {text:"Ryan Dahl",correct:true},
            {text:"Mark Zuckerberg",correct:false},
            {text:"Tim Bernes Lee",correct:false}
      		]
      }
	];

   const questionElement = document.getElementById("questions");
   const answerElement=    document.getElementById("answers");
   const nextB=            document.getElementById("next-btn");

   let currentQnIndex=0;
   let score=0;

   function startQuiz(){
   	  resetState();
   	  currentQnIndex=0;  score=0;
   	  nextB.innerHTML= "Next";
   	  showQuestion();
   }

      function resetState(){
   	   nextB.style.display="none";
   	   while(answerElement.firstChild){
   	   	 answerElement.removeChild(answerElement.firstChild);
   	   }
   }


   function showQuestion(){
   	 resetState();
   	  let currentQuestion= question[currentQnIndex];
   	  let qno= currentQnIndex + 1;
   	  questionElement.innerHTML= qno+". "+currentQuestion.question;

   	  currentQuestion.answers.forEach(answer=>{
         const button= document.createElement("button");
         button.innerHTML= answer.text;
         button.classList.add('btn');
         answerElement.appendChild(button);
         if(answer.correct){
         	button.dataset.correct= answer.correct;
         }
         button.addEventListener("click",selectAnswer);
   	  });
   }

  function selectAnswer(e){
        const selectBtn= e.target;
        //console.log(selectBtn);
        const isCorrect= selectBtn.dataset.correct==="true";
        if(isCorrect){
            selectBtn.classList.add("correct");  
            score++;
        }else{
            selectBtn.classList.add("incorrect"); 
        }
       Array.from(answerElement.children).forEach(button=>{
       	   if(button.dataset.correct==="true"){
       	   	 button.classList.add("correct");
       	   }
       	   button.disabled=true;
       }) ;
       nextB.style.display="block";
  }



   function showScore(){
   	resetState();
   	questionElement.innerHTML= `You have scored ${score} out of ${question.length}`;
   	nextB.innerHTML= "Play Again";
   	nextB.style.display= "block";
   	currentQnIndex=0;  score=0;
   }

   nextB.addEventListener("click",()=>{
   	//alert(currentQnIndex); alert(question.length);
       if(currentQnIndex < question.length-1){
       	    currentQnIndex++;
       	    showQuestion();
       }else{ showScore(); }
   });


startQuiz();

console.log(Array.from(answerElement.children));
</script>	
</body>	
</html>